<!doctype html><html lang=en><head><meta charset=utf-8><title>Jay Vala</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Linux reminders"><meta property="og:title" content="How to make your system remind you to drink water and sit straight"><meta property="og:description" content="Linux reminders"><meta property="og:type" content="website"><meta property="og:url" content="https://jdvala.github.io/posts/2021-04-20-stay-healty-linux-reminds/"><meta itemprop=name content="How to make your system remind you to drink water and sit straight"><meta itemprop=description content="Linux reminders"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to make your system remind you to drink water and sit straight"><meta name=twitter:description content="Linux reminders"><link rel=apple-touch-icon sizes=180x180 href=apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=favicon-32.png><link rel=stylesheet href=https://jdvala.github.io/scss/style.min.d1aa507e320f63a9a89fb4d16c025955cea1564900de1060a4b2d7cabbabcdec.css></head><body><header><div class="header header-frame"><div><h1 class=header__title>How to make your system remind you to drink water and sit straight</h1><div class=header__description>Linux reminders</div></div><nav class=header-nav><ul class="header-nav-list header-nav-list--menu"><li class=header-nav-list__item><a class=header-nav-list__link href=/about/><span>About</span></a></li></ul><button class=header-nav-list__nav-btn>navigation</button></nav><button class=mb-header__menu-btn>
<span class=mb-header__menu-btn-line></span><span class=mb-header__menu-btn-line></span><span class=mb-header__menu-btn-line></span></button></div><nav id=mobile-header-nav class=mb-header-nav><button class="mb-header-nav__close-btn flex-center"><svg class="mb-header-nav__svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="32" height="32"
            ><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
                /><path d="M0 0h24v24H0z" fill="none" /></svg></button><div class=mb-header-nav__wrapper><div class=mb-header-nav__container><svg width="240" height="72" viewBox="0 0 240 72" class="mb-header-nav__title"
                ><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle">Tags</text></svg><ul class=mb-header-nav-list><li class=mb-header-nav-list__item><a class=mb-header-nav-list__link href=https://jdvala.github.io/tags/health/>health</a></li><li class=mb-header-nav-list__item><a class=mb-header-nav-list__link href=https://jdvala.github.io/tags/hacks/>hacks</a></li><li class=mb-header-nav-list__item><a class=mb-header-nav-list__link href=https://jdvala.github.io/tags/corn/>corn</a></li><li class=mb-header-nav-list__item><a class=mb-header-nav-list__link href=https://jdvala.github.io/tags/bash/>bash</a></li><li class=mb-header-nav-list__item><a class=mb-header-nav-list__link href=https://jdvala.github.io/tags/shell/>shell</a></li></ul></div><div class=mb-header-nav__container><svg width="240" height="72" viewBox="0 0 240 72" class="mb-header-nav__title"
                ><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle">Menu</text></svg><ul class=mb-header-nav-list><li class=mb-header-nav-list__item><a class=mb-header-nav-list__link href=/about/>About</a></li></ul></div></div></nav></header><div id=content><article class=post><div class=post-content><p>During this pandemic we have all been working from home, which has its own merits but also has its own demerits. In the office we behave in a certian way as we have our colleague in the same sitting area, but at home we are in our own comfort zone.</p><p>Personally, I have very bad habbit of forgetting to drink water when I work, in office I used to see my colleagues drinking water, which reminded me to drink water as well. At home I had rely on reminders on my phone to keep me hydrated.</p><p>Also, I get too comfortable on chair if I am home, and after a few hours my back starts to hurt as I&rsquo;m not sitting straight. So I resorted to using phone reminders to sit straight as well.</p><p>Now you know if you work and there are constant notification on phone which you have to manually silent, it becomes tedious very very soon.</p><p>Soon I have to come up with something where I get notified on my machine. So I started looking for an app for my linux machine, which I could not find or was too lazy to look closely.</p><p>So I decided to build myself something of my own, to use <code>cron</code> jobs to remind me to drink water and sit straight.</p><p>First of I need notification toast for every <code>cron</code> job, which linux already has and its called <a href=https://linux.die.net/man/1/zenity>Zenity</a>, you can do a lot of cool stuff with it.</p><p>Now I was ready to make two cron jobs, one for drinking water and one for sitting straight.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>* * * * /usr/bin/zenity --info --text<span style=color:#000;font-weight:700>=</span><span style=color:#d14>&#39;Sit Straight&#39;</span>
*/30 * * * /usr/bin/zenity --info --text<span style=color:#000;font-weight:700>=</span><span style=color:#d14>&#39;Drink water&#39;</span>
</code></pre></div><p>The first <code>cron</code> job is for every hour to remind me to sit striaght and the second one is every half an hour to remind me to dirnk water.</p><p>I added these commands in my <code>crontab</code> and waited half hour and nothing!!</p><p>I looked on the internet and found this stackoverflow question <a href=https://askubuntu.com/questions/978382/how-can-i-show-notify-send-messages-triggered-by-crontab/978413#978413>here</a></p><p>That&rsquo;s it I added the script and called it <code>run_gui_cron.sh</code>, made it executable by <code>chmod +x run_gui_cron.sh</code> and updated my cron jobs</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>* * * * /home/user/run_gui_cron.sh <span style=color:#d14>&#34;/usr/bin/zenity --info --text=&#39;Sit Straight&#39;&#34;</span>
*/30 * * * /home/user/run_gui_cron.sh <span style=color:#d14>&#34;/usr/bin/zenity --info --text=&#39;Drink water&#39;&#34;</span>
</code></pre></div><p>Script <code>run_gui_cron.sh</code></p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#999;font-weight:700;font-style:italic>#!/bin/bash                                                                                                                                                                                                                                
</span><span style=color:#999;font-weight:700;font-style:italic></span>
<span style=color:#998;font-style:italic># Check whether the user is logged in Mate</span>
<span style=color:#000;font-weight:700>while</span> <span style=color:#000;font-weight:700>[</span> -z <span style=color:#d14>&#34;</span><span style=color:#000;font-weight:700>$(</span>pgrep gnome-session -n -U <span style=color:teal>$UID</span><span style=color:#000;font-weight:700>)</span><span style=color:#d14>&#34;</span> <span style=color:#000;font-weight:700>]</span>; <span style=color:#000;font-weight:700>do</span>
       sleep <span style=color:#099>3</span> <span style=color:#000;font-weight:700>&amp;&amp;</span> <span style=color:teal>count</span><span style=color:#000;font-weight:700>=</span><span style=color:#000;font-weight:700>$((</span>count+1<span style=color:#000;font-weight:700>))</span> <span style=color:#000;font-weight:700>&amp;&amp;</span> <span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;</span><span style=color:teal>$count</span><span style=color:#d14>&#34;</span> &gt; /tmp/gnome-cron.log
<span style=color:#000;font-weight:700>done</span>

<span style=color:#998;font-style:italic># Get the content of the Current-Desktop-Session Environment File as an array:</span>
<span style=color:teal>EnvVarList</span><span style=color:#000;font-weight:700>=</span><span style=color:#d14>`</span>cat -e <span style=color:#d14>&#34;</span><span style=color:#d14>/proc/</span><span style=color:#000;font-weight:700>$(</span>pgrep gnome-session -n -U <span style=color:teal>$UID</span><span style=color:#000;font-weight:700>)</span><span style=color:#d14>/environ</span><span style=color:#d14>&#34;</span> | sed <span style=color:#d14>&#39;s/\^@/\n/g&#39;</span><span style=color:#d14>`</span>

<span style=color:#998;font-style:italic># Export the Current-Desktop-Session Environment Variables:</span>
<span style=color:#000;font-weight:700>for</span> EnvVar in <span style=color:teal>$EnvVarList</span>; <span style=color:#000;font-weight:700>do</span>
       <span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;</span><span style=color:teal>$EnvVar</span><span style=color:#d14>&#34;</span> &gt;&gt; /tmp/gnome-cron.log
       <span style=color:#0086b3>export</span> <span style=color:#d14>&#34;</span><span style=color:teal>$EnvVar</span><span style=color:#d14>&#34;</span>
<span style=color:#000;font-weight:700>done</span>

<span style=color:#998;font-style:italic># Execute the list of the input commands</span>
nohup <span style=color:#d14>&#34;</span><span style=color:#d14>${</span><span style=color:teal>1</span><span style=color:#d14>}</span><span style=color:#d14>&#34;</span> &gt;/dev/null 2&gt;&amp;<span style=color:#099>1</span> &amp;

<span style=color:#0086b3>exit</span> <span style=color:#099>0</span>
</code></pre></div></div></article><button class=floating-button>
<a class=floating-button__link href=https://jdvala.github.io><span>home</span></a></button></div><footer class=post-footer><div class=footer><div>© 2020, Jay Vala. Theme - Origin by Andrey Parfenov</div><div class=footer__socials><a href=www.github.com/jdvala target=_blank class=social-link title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0v24h24V0H0zm14.534 19.59c-.406.078-.534-.171-.534-.384v-2.195c0-.747-.262-1.233-.55-1.481 1.782-.198 3.654-.875 3.654-3.947.0-.874-.311-1.588-.824-2.147.083-.202.357-1.016-.079-2.117.0.0-.671-.215-2.198.82-.639-.18-1.323-.267-2.003-.271-.68.003-1.364.091-2.003.269-1.528-1.035-2.2-.82-2.2-.82-.434 1.102-.16 1.915-.077 2.118-.512.56-.824 1.273-.824 2.147.0 3.064 1.867 3.751 3.645 3.954-.229.2-.436.552-.508 1.07-.457.204-1.614.557-2.328-.666.0.0-.423-.768-1.227-.825.0.0-.78-.01-.055.487.0.0.525.246.889 1.17.0.0.463 1.428 2.688.944v1.489c0 .211-.129.459-.528.385-3.18-1.057-5.472-4.056-5.472-7.59.0-4.419 3.582-8 8-8s8 3.581 8 8c0 3.533-2.289 6.531-5.466 7.59z"/></svg></a></div></div></footer><script src=https://jdvala.github.io/js/script.js></script></body></html>